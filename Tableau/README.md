# Tableau

## 태블로 주요 키워드 살펴보기

일반적으로 측정값은 숫자 형식이고, 액션하면 집계를 통해 차트를 만들고,

차원은 그 숫자들로 만들어진 차트를 어떻게 나눠서 볼 것인지를 결정한다.

불연속형은?

- 파란색 필드 = 불연속형 = 개별적으로 구분

- 유한한 범위, 뷰에 추가하면 머리글을 추가함

연속형은?

- 초록색 필드 = 연속형 = 단절이 없고 끊어지지 않는 무한대 범위, 뷰에 추가하면 축을 추가합니다.


태블로에서 계산된 필드 만들기란?

1. 데이터 원본에 없는 새로운 필드를 만드는 것
2. 겉으로 드러나지 않은 인사이트를 발굴하는 요소

태블로 계산 유형은 다음과 같습니다.

(1) 기본 계산

데이터 원본 세부 수준(행 수준 계산) 또는 Viz 세부 수준(집계 계산)에서 값 또는 멤버를 변환할 수 있습니다.

  ```c
  // 수익률
  sum([수익]) / sum([매출])
  ```

(2) LOD(Level of Detail expressions, 세부 수준) 식

LOD 계산을 사용하면 계산할 세부 수준을 세부적으로 제어할 수 있습니다. 

Viz의 세부 수준을 기준으로 더 세분화된 시준(INCLUDE), 덜 세분화된 기준(EXCLUDE) 또는 완전히 독립적인 수준(FIXED)에서 LOD 계산을 수행할 수 있습니다.

  ```c
  // 고객별 첫 주문 일자
  { FIXED [고객번호] : MIN([주문 일자]) }

  // 고객별 최근 주문 일자
  { FIXED [고객번호] : MAX([주문 일자]) }
  ```

(3) 테이블 계산

테이블 계산을 사용하면 Viz 전용 세부 수준에서 값을 변환할 수 있습니다. 

  ```c
  // 구성 비율
  sum([매출]) / TOTAL(sum([매출]))
  ```

## 막대 차트 만들기

1. 만들기 쉬운 시각화
2. 범주끼리 비교하기 위해
3. 순위를 비교하기 위해
    
    ```c
    rank(sum([수익]))
    ```
    
4. 추세를 살펴보는데 유용함
    
    ```c
    // 평균 이상이란, 합계 매출이 합계 매출들의 평균보다 
    // 크거나 같으면 True, 아니면 False
    sum([매출]) >= WINDOW_AVG(sum([매출]))
    ```
    

## 부분 전체 분석

### 계산된 필드 만들기

```c
// '시도' '남도' 또는 '북도' 끝나는 경우에 1, 3 텍스트를 조합
IF ENDSWITH([시도], '남도') OR ENDSWITH([시도], '북도')
    THEN LEFT([시도], 1) + MID([시도], 3, 1)
ELSE LEFT([시도], 2)
END

// 주요 마크란, 첫번째, 마지막, 수량의 최소값, 최대값을 말합니다.
IF FIRST() = 0
OR LAST() = 0
OR SUM(수량) = WINDOW_MIN(SUM(수량))
OR SUM(수량) = WINDOW_MAX(SUM(수량))
  THEN SUM(수량)
END
```

